# 📱 配信記録アプリ v2.2

チャットレディ配信活動を記録・分析し、売上向上を支援するPWA（Progressive Web App）

## 🆕 v2.2 の新機能

### 🔄 Google Apps Script 自動同期
- **データ入力直後に自動バックアップ** - スプレッドシートに即座に保存
- **複数端末で自動同期** - iPhone、iPad、PCでデータ共有
- **オフライン対応** - ネットがなくてもローカル保存、後で自動同期
- **WiFi限定モード** - 通信量を節約
- **同期ステータス表示** - リアルタイムで同期状態を確認

### 📊 すぐ使えるスプレッドシートテンプレート
- セッション記録シート（自動作成）
- 目標設定シート（自動作成）
- 同期ログシート（自動作成）

---

## ✨ 主要機能

### 📝 簡単データ入力
- スマホ最適化UI - 片手で入力可能
- 星評価で体調・モチベーション記録
- プルダウン選択で入力を効率化
- 日付・時刻自動入力

### 📈 自動計算・分析
- 稼働時間・時給を自動計算
- 有料移行率・チップ比率を自動算出
- 曜日・時間帯を自動分類

### 📅 カレンダー表示
- 配信日を一目で確認
- タップで詳細表示
- 月切替で過去データ閲覧

### 🎯 目標設定と進捗管理
- 月間売上目標
- 目標時給設定
- セッション数目標
- リアルタイム進捗バー

### 📊 グラフ分析
- 円グラフ（売上内訳・客ファネル）
- 折れ線グラフ（日別売上推移）
- 棒グラフ（曜日別時給）

### 💾 バックアップ
- JSON完全バックアップ
- CSV エクスポート
- Google スプレッドシート連携

---

## 🚀 クイックスタート

### 1. デプロイ

#### Netlify（推奨・無料）
1. [Netlify](https://www.netlify.com/) にログイン
2. 「Sites」→「Add new site」→「Deploy manually」
3. このフォルダをドラッグ&ドロップ
4. デプロイ完了！公開URLをコピー

#### GitHub Pages
1. GitHubリポジトリを作成
2. ファイルをすべてアップロード
3. Settings → Pages → Source: main branch
4. 公開URLを確認

### 2. iPhoneにインストール

1. Safari で公開URLを開く
2. 共有ボタン（□↑）をタップ
3. 「ホーム画面に追加」を選択
4. 「追加」をタップ

### 3. Google同期を設定（オプション）

詳しくは [SETUP_GUIDE.md](SETUP_GUIDE.md) を参照

---

## 📂 ファイル構成

```
streaming-record-pwa-v2.2/
├── index.html              # メインHTML
├── app.js                  # アプリロジック
├── sync-manager.js         # 同期マネージャー（v2.2）
├── sync-functions.js       # 同期関数（v2.2）
├── sync-settings.html      # 同期設定UI（v2.2）
├── google-apps-script.gs   # Google Apps Script（v2.2）
├── manifest.json           # PWAマニフェスト
├── sw.js                   # Service Worker
├── icon-192.png            # アプリアイコン
├── icon-512.png            # アプリアイコン（大）
├── README.md               # このファイル
└── SETUP_GUIDE.md          # セットアップガイド
```

---

## 🔧 データ構造

### セッション記録（36項目）

#### 基本情報
- 日付、開始時刻、終了時刻、デバイス
- 体調自己評価（1-5）、モチベ自己評価（1-5）

#### 客データ
- 総客数、コインありユーザー数、常連客数、有料移行人数
- 1000コイン以上客数、会話が盛り上がった客数

#### 売上データ
- 総売上、入場料合計、チップ合計、特別報酬

#### 行動ログ
- トークテーマ、営業導線、成功トークメモ、失敗トークメモ
- 服装/演出メモ、テンション帯

#### 外部要因
- イベント有無、給料日前後、競合多そう感覚、通信トラブル有無

#### 自動計算
- 総稼働時間、1時間あたり売上、有料移行率、コインあり率
- 常連率、高単価客率、チップ比率、曜日、時間帯カテゴリ

---

## 💾 データ保存

### ローカル保存
- **LocalStorage** - ブラウザ内に保存
- 容量: 約5-10MB（数千件の記録可能）
- 永続化: アプリを削除しない限り保持

### クラウド同期（v2.2）
- **Google スプレッドシート** - 自動バックアップ
- 容量: 無制限（実質的に）
- 複数端末で共有可能

---

## 🔐 プライバシーとセキュリティ

### データの扱い
- ✅ すべてのデータはローカル保存（あなたのiPhone内）
- ✅ 同期はあなた専用のGoogleスプレッドシートのみ
- ✅ 第三者サーバーへのデータ送信なし
- ✅ HTTPS暗号化通信

### 推奨事項
- 定期的にバックアップ（週1回）
- Google同期を有効化（自動バックアップ）
- iPhoneのバックアップ設定を有効化

---

## 🆙 アップグレード方法

### v2.1 → v2.2
1. 新しいファイルをダウンロード
2. Netlify/GitHub Pages で既存ファイルを上書き
3. iPhoneでアプリを開いてリロード
4. **データは自動的に引き継がれます**（LocalStorage互換）

### 念のためバックアップ
アップグレード前に：
1. 設定タブ → 「JSONでバックアップ」
2. iCloud Drive に保存

---

## 📊 活用例

### 毎日の記録
1. 配信終了後すぐに入力
2. 自動でスプレッドシートに同期
3. カレンダーで実績を確認

### 週次レビュー
1. ダッシュボードで今週の成績確認
2. グラフで傾向分析
3. 成功パターンを特定

### 月次戦略会議
1. 月間目標の達成度確認
2. 曜日・時間帯別パフォーマンス分析
3. 翌月の目標設定

### スプレッドシートで深掘り分析
1. ピボットテーブルで多角的分析
2. カスタムグラフ作成
3. レポート出力

---

## 🔮 今後の拡張予定

- 🔔 プッシュ通知（配信リマインダー）
- 🤖 AIアドバイス機能（オプション）
- 📧 週次レポートメール送信
- 🔗 Looker Studio 連携
- 📸 写真アップロード機能
- 👯 複数アカウント管理

---

## 🐛 トラブルシューティング

### データが消えた
- ブラウザのキャッシュをクリアすると消える可能性あり
- バックアップから復元：設定タブ → 「ファイルを選択」

### 同期エラー
- スクリプトURLを確認
- 接続テストを実行
- WiFiに接続しているか確認

### アプリが動かない
- Safari でページをリロード
- ホーム画面からアイコンを削除して再インストール

詳しくは [SETUP_GUIDE.md のトラブルシューティング](SETUP_GUIDE.md#トラブルシューティング) を参照

---

## 📞 サポート

質問や不具合報告は、以下の情報を添えてご連絡ください：
- 使用環境（iPhone モデル、iOS バージョン、Safari バージョン）
- エラーメッセージのスクリーンショット
- 発生手順

---

## 📄 ライセンス

MIT License - 自由に使用・改変・配布可能

---

## 🎉 楽しい配信ライフを！

このアプリがあなたの配信活動をサポートし、売上向上に貢献できれば幸いです。

**Happy Streaming! 🎥✨**
